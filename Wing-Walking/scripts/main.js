"use strict";window.g_baL=class{constructor(e,g){this.g_asA=e,this.g_baM=g,this.g_baN=!1,this.g_baO=()=>this.g_Lg()}g_baP(){}g_baQ(e,g,_,b){this.g_asA.g_baR(this.g_baM,e,g,_,b)}g_baS(e,g,_,b){return this.g_asA.g_baT(this.g_baM,e,g,_,b)}g_baU(e,g,_){this.g_asA.g_baV()?this.g_baQ(e,g,_):this.g_asA.g_baW()._OnMessageFromDOM({type:"event",component:this.g_baM,handler:e,dispatchOpts:_||null,data:g,responseId:null})}g_baX(e,g){this.g_asA.g_baY(this.g_baM,e,g)}g_baZ(e){for(const[g,_]of e)this.g_baX(g,_)}g_ba_(){return this.g_asA}g_ba$(){return this.g_baM}g_afl(){this.g_baN||(this.g_asA.g_bba(this.g_baO),this.g_baN=!0)}g_aeX(){this.g_baN&&(this.g_asA.g_bbb(this.g_baO),this.g_baN=!1)}g_Lg(){}},window.g_m_=class{constructor(e,g){this.g_lI=e,this.g_m$=g,this.g_nb=-1,this.g_nc=-Infinity,this.g_nd=()=>this.g_ne(),this.g_nf=!1,this.g_ng=!1}g_ni(e){this.g_ng=!!e}g_nm(){if(-1===this.g_nb){const e=Date.now(),g=e-this.g_nc,_=this.g_m$;g>=_&&this.g_ng?(this.g_nc=e,this.g_nn()):this.g_nb=self.setTimeout(this.g_nd,Math.max(_-g,4))}}g_nn(){this.g_nf=!0,this.g_lI(),this.g_nf=!1}g_lM(){this.g_nf||(this.g_no(),this.g_nc=Date.now())}g_ne(){this.g_nb=-1,this.g_nc=Date.now(),this.g_nn()}g_no(){-1!==this.g_nb&&(self.clearTimeout(this.g_nb),this.g_nb=-1)}g_er(){this.g_no(),this.g_lI=null,this.g_nd=null}},"use strict",window.g_bbc=class extends g_baL{constructor(e,g){super(e,g),this.g_bbd=new Map,this.g_bbe=!0,this.g_baX("create",e=>this.g_bbf(e)),this.g_baX("destroy",e=>this.g_bbg(e)),this.g_baX("set-visible",e=>this.g_bbh(e)),this.g_baX("update-position",e=>this.g_bbi(e)),this.g_baX("update-state",e=>this.g_aQG(e)),this.g_baX("focus",e=>this.g_bbj(e)),this.g_baX("set-css-style",e=>this.g_bbk(e))}g_bbl(e){this.g_bbe=!!e}g_bbm(e,g){this.g_baX(e,e=>{const _=e.elementId,b=this.g_bbd.get(_);return g(b,e)})}g_bbf(e){const g=e.elementId,_=this.g_afN(g,e);this.g_bbd.set(g,_),e.isVisible||(_.style.display="none"),this.g_bbe&&document.body.appendChild(_)}g_afN(){throw new Error("required override")}g_bbn(){}g_bbg(e){const g=e.elementId,_=this.g_bbd.get(g);this.g_bbn(_),this.g_bbe&&_.parentElement.removeChild(_),this.g_bbd.delete(g)}g_bbo(e,g,_){_||(_={}),_.elementId=g,this.g_baQ(e,_)}g_bbp(e,g,_){_||(_={}),_.elementId=g,this.g_baU(e,_)}g_bbh(e){if(this.g_bbe){const g=this.g_bbd.get(e.elementId);g.style.display=e.isVisible?"":"none"}}g_bbi(e){if(this.g_bbe){const g=this.g_bbd.get(e.elementId);g.style.left=e.left+"px",g.style.top=e.top+"px",g.style.width=e.width+"px",g.style.height=e.height+"px";const _=e.fontSize;null!==_&&(g.style.fontSize=_+"em")}}g_aQG(e){const g=this.g_bbd.get(e.elementId);this.g_bbq(g,e)}g_bbq(){throw new Error("required override")}g_bbj(e){const g=this.g_bbd.get(e.elementId);e.focus?g.focus():g.blur()}g_bbk(e){const g=this.g_bbd.get(e.elementId);g.style[e.prop]=e.val}g_bbr(e){return this.g_bbd.get(e)}},"use strict";{function _(e){if(e.g_bbs){const g=document.createElement("script");g.async=!1,g.textContent=e.g_o,document.head.appendChild(g)}else return new Promise((g,_)=>{const b=document.createElement("script");b.onload=g,b.onerror=_,b.async=!1,b.src=e,document.head.appendChild(b)})}async function t(e){const g=await r(e),_=new TextDecoder("utf-8");return _.decode(g)}function r(e){return new Promise((g,_)=>{const b=new FileReader;b.onload=e=>g(e.target.result),b.onerror=e=>_(e),b.readAsArrayBuffer(e)})}function b(e){return n.has(e)}const a=/(iphone|ipod|ipad)/i.test(navigator.userAgent);let e=new Audio;const s={"audio/webm; codecs=opus":!!e.canPlayType("audio/webm; codecs=opus"),"audio/ogg; codecs=opus":!!e.canPlayType("audio/ogg; codecs=opus"),"audio/webm; codecs=vorbis":!!e.canPlayType("audio/webm; codecs=vorbis"),"audio/ogg; codecs=vorbis":!!e.canPlayType("audio/ogg; codecs=vorbis"),"audio/mp4":!!e.canPlayType("audio/mp4"),"audio/mpeg":!!e.canPlayType("audio/mpeg")};e=null;const g=[];let d=0;window.RealFile=window.File;const i=[],u=new Map,h=new Map;let l=0;const p=[];self.g_bbt=function(e){if("function"!=typeof e)throw new Error("runOnStartup called without a function");p.push(e)},self.getGlobal=function(e){if(!e)throw new Error("missing global variable");return e};const n=new Set(["cordova","playable-ad","instant-games"]);window.g_bbu=class e{constructor(e){this.g_bbv=e.g_bbw,this.g_bbx=null,this.g_aqu="",this.g_bby=e.g_bbz,this.g_bbA={},this.g_bbB=null,this.g_bbC=null,this.g_bbD=[],this.g_bbE=null,this.g_aou=null,this.g_asu=null,this.g_apb=-1,this.g_bbF=()=>this.g_bbG(),this.g_bbH=[],this.g_aqz=e.g_bbI,b(this.g_aqz)&&this.g_bbv&&(console.warn("[C3 runtime] Worker mode is enabled and supported, but is disabled in WebViews due to crbug.com/923007. Reverting to DOM mode."),this.g_bbv=!1),this.g_bbJ=!1,this.g_bbK=null,this.g_bbL=null,("html5"===this.g_aqz||"playable-ad"===this.g_aqz)&&"file"===location.protocol.substr(0,4)&&alert("Exported games won't work until you upload them. (When running on the file: protocol, browsers block many features from working for security reasons.)"),this.g_baY("runtime","cordova-fetch-local-file",e=>this.g_bbM(e)),this.g_baY("runtime","create-job-worker",e=>this.g_bbN(e)),"cordova"===this.g_aqz?document.addEventListener("deviceready",()=>this.g_ad_(e)):this.g_ad_(e)}g_er(){this.g_ats(),this.g_bbx&&(this.g_bbx.onmessage=null,this.g_bbx=null),this.g_bbB&&(this.g_bbB.terminate(),this.g_bbB=null),this.g_bbC&&(this.g_bbC.g_er(),this.g_bbC=null),this.g_aou&&(this.g_aou.parentElement.removeChild(this.g_aou),this.g_aou=null)}g_bbO(){return this.g_aou}g_fl(){return this.g_aqu}g_baV(){return this.g_bbv}g_auf(){return this.g_aqz}g_asU(){return a&&"cordova"===this.g_aqz}g_aug(){return a&&b(this.g_aqz)||navigator.standalone}async g_ad_(e){if("playable-ad"===this.g_aqz){this.g_bbK=self.c3_base64files,this.g_bbL={},await this.g_bbP();for(let g=0,_=e.g_bbQ.length;g<_;++g){const _=e.g_bbQ[g].toLowerCase();this.g_bbL.hasOwnProperty(_)?e.g_bbQ[g]={g_bbs:!0,g_o:this.g_bbL[_]}:this.g_bbK.hasOwnProperty(_)&&(e.g_bbQ[g]=URL.createObjectURL(this.g_bbK[_]))}}if(e.g_bbR)this.g_aqu=e.g_bbR;else{const e=location.origin;this.g_aqu=("null"===e?"file:///":e)+location.pathname;const g=this.g_aqu.lastIndexOf("/");-1!==g&&(this.g_aqu=this.g_aqu.substr(0,g+1))}if(e.g_bbS)for(const[g,_]of Object.entries(e.g_bbS))this.g_bbA[g]=URL.createObjectURL(_);const g=new MessageChannel;this.g_bbx=g.port1,this.g_bbx.onmessage=e=>this._OnMessageFromRuntime(e.data),window.c3_addPortMessageHandler&&window.c3_addPortMessageHandler(e=>this.g_bbT(e)),this.g_asu=new self.g_bbU(this),await this.g_asu.g_alx(),this.g_bbV(),"object"==typeof window.StatusBar&&window.StatusBar.hide(),"object"==typeof window.AndroidFullScreen&&window.AndroidFullScreen.immersiveMode(),await this.g_bbW(),this.g_bbv?await this.g_bbX(e,g.port2):await this.g_bbY(e,g.port2)}g_bbZ(e){return this.g_bbA.hasOwnProperty(e)?this.g_bbA[e]:e.endsWith("/workermain.js")&&this.g_bbA.hasOwnProperty("workermain.js")?this.g_bbA["workermain.js"]:"playable-ad"===this.g_aqz&&this.g_bbK.hasOwnProperty(e.toLowerCase())?URL.createObjectURL(this.g_bbK[e.toLowerCase()]):e}async g_bb_(g,_,t){if(g.startsWith("blob:"))return new Worker(g,t);if(this.g_asU()){const e=await this.g_Cd(this.g_bby+g),_=new Blob([e],{type:"application/javascript"});return new Worker(URL.createObjectURL(_),t)}const n=new URL(g,_),b=location.origin!==n.origin;if(b){const e=await fetch(n);if(!e.ok)throw new Error("failed to fetch worker script");const g=await e.blob();return new Worker(URL.createObjectURL(g),t)}return new Worker(n,t)}g_bbV(){if(this.g_aug()){const g=document.documentElement.style,_=document.body.style,b=window.innerWidth<window.innerHeight,t=b?window.screen.width:window.screen.height,n=b?window.screen.height:window.screen.width;_.height=g.height=n+"px",_.width=g.width=t+"px"}}g_bb$(g){return{baseUrl:this.g_aqu,windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio,isFullscreen:e.g_apG(),projectData:g.g_bca,previewImageBlobs:window.cr_previewImageBlobs||this.g_bbK,previewProjectFileBlobs:window.cr_previewProjectFileBlobs,exportType:g.g_bbI,isDebug:-1<self.location.search.indexOf("debug"),ife:!!self.g_bcb,jobScheduler:this.g_asu.g_bcc(),supportedAudioFormats:s,opusWasmScriptUrl:window.cr_opusWasmScriptUrl||this.g_bby+"opus.wasm.js",opusWasmBinaryUrl:window.cr_opusWasmBinaryUrl||this.g_bby+"opus.wasm.wasm",isiOSCordova:this.g_asU(),isiOSWebView:this.g_aug(),isFBInstantAvailable:"undefined"!=typeof self.FBInstant}}async g_bbX(e,g){const _=this.g_bbZ(e.g_bcd);this.g_bbB=await this.g_bb_(_,this.g_aqu,{name:"Runtime"}),this.g_aou=document.createElement("canvas"),this.g_aou.style.display="none";const b=this.g_aou.transferControlToOffscreen();document.body.appendChild(this.g_aou),window.c3canvas=this.g_aou,this.g_bbB.postMessage(Object.assign(this.g_bb$(e),{type:"init-runtime",isInWorker:!0,messagePort:g,canvas:b,workerDependencyScripts:e.g_bce||[],engineScripts:e.g_bbQ,projectScripts:window.g_bcf,projectScriptsStatus:self.C3_ProjectScriptsStatus}),[g,b,...this.g_asu.g_bcg()]),this.g_bbD=i.map(e=>new e(this)),this.g_bch(),self.c3_callFunction=(e,g)=>this.g_bbE.g_Ws(e,g),"preview"===this.g_aqz&&(self.goToLastErrorScript=()=>this.g_baR("runtime","go-to-last-error-script"))}async g_bbY(g,b){this.g_aou=document.createElement("canvas"),this.g_aou.style.display="none",document.body.appendChild(this.g_aou),window.c3canvas=this.g_aou,this.g_bbD=i.map(e=>new e(this)),this.g_bch();const t=g.g_bbQ.map(e=>"string"==typeof e?new URL(e,this.g_aqu).toString():e);if(Array.isArray(g.g_bce)&&t.unshift(...g.g_bce),await Promise.all(t.map(e=>_(e))),g.g_bci&&0<g.g_bci.length){const e=self.C3_ProjectScriptsStatus;try{if(await Promise.all(g.g_bci.map(e=>_(e[1]))),Object.values(e).some(e=>!e))return void self.setTimeout(()=>this.g_bcj(e),100)}catch(g){return console.error("[Preview] Error loading project scripts: ",g),void self.setTimeout(()=>this.g_bcj(e),100)}}if("preview"===this.g_aqz&&"object"!=typeof self.g_aU.g_aYA)return console.error("[C3 runtime] Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax."),void alert("Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax.");const n=Object.assign(this.g_bb$(g),{isInWorker:!1,messagePort:b,canvas:this.g_aou,runOnStartupFunctions:p});this.g_bbC=self.C3_CreateRuntime(n),await self.C3_InitRuntime(this.g_bbC,n)}g_bcj(e){const g=Object.entries(e).filter(e=>!e[1]).map(e=>e[0]),_=`Failed to load project script '${g[0]}'. Check all your JavaScript code has valid syntax.`;console.error("[Preview] "+_),alert(_)}async g_bbN(){const e=await this.g_asu.g_bck();return{outputPort:e,transferables:[e]}}g_baW(){if(this.g_bbv)throw new Error("not available in worker mode");return this.g_bbC}g_baR(g,_,b,t,n){this.g_bbx.postMessage({type:"event",component:g,handler:_,dispatchOpts:t||null,data:b,responseId:null},this.g_bbJ?void 0:n)}g_baT(_,t,b,n,a){const e=l++,i=new Promise((g,_)=>{h.set(e,{resolve:g,reject:_})});return this.g_bbx.postMessage({type:"event",component:_,handler:t,dispatchOpts:n||null,data:b,responseId:e},this.g_bbJ?void 0:a),i}["_OnMessageFromRuntime"](e){const g=e.type;if("event"===g)this.g_bcl(e);else if("result"===g)this.g_bcm(e);else if("runtime-ready"===g)this.g_bcn();else if("alert"===g)alert(e.message);else throw new Error(`unknown message '${g}'`)}g_bcl(_){const t=_.component,b=_.handler,n=_.data,i=_.responseId,e=u.get(t);if(!e)return void console.warn(`[DOM] No event handlers for component '${t}'`);const a=e.get(b);if(!a)return void console.warn(`[DOM] No handler '${b}' for component '${t}'`);let g=null;try{g=a(n)}catch(e){return console.error(`Exception in '${t}' handler '${b}':`,e),void(null!==i&&this.g_bco(i,!1,""+e))}null!==i&&(g&&g.then?g.then(e=>this.g_bco(i,!0,e)).catch(e=>{console.error(`Rejection from '${t}' handler '${b}':`,e),this.g_bco(i,!1,""+e)}):this.g_bco(i,!0,g))}g_bco(e,g,_){let b;_&&_.transferables&&(b=_.transferables),this.g_bbx.postMessage({type:"result",responseId:e,isOk:g,result:_},b)}g_bcm(g){const _=g.responseId,b=g.isOk,t=g.result,n=h.get(_);b?n.resolve(t):n.reject(t),h.delete(_)}g_baY(e,g,_){let b=u.get(e);if(b||(b=new Map,u.set(e,b)),b.has(g))throw new Error(`[DOM] Component '${e}' already has handler '${g}'`);b.set(g,_)}static g_bcp(e){if(i.includes(e))throw new Error("DOM handler already added");i.push(e)}g_bch(){for(const e of this.g_bbD)if("runtime"===e.g_ba$())return void(this.g_bbE=e);throw new Error("cannot find runtime DOM handler")}g_bbT(e){this.g_baR("debugger","message",e)}g_bcn(){for(const e of this.g_bbD)e.g_baP()}static g_apG(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)}async g_bcq(){return await this.g_baT("runtime","get-remote-preview-status-info")}g_bba(e){this.g_bbH.push(e),this.g_atr()}g_bbb(e){const g=this.g_bbH.indexOf(e);if(-1===g)throw new Error("invalid callback");this.g_bbH.splice(g,1),this.g_bbH.length||this.g_ats()}g_atr(){-1===this.g_apb&&this.g_bbH.length&&(this.g_apb=requestAnimationFrame(this.g_bbF))}g_ats(){-1!==this.g_apb&&(cancelAnimationFrame(this.g_apb),this.g_apb=-1)}g_bbG(){this.g_apb=-1;for(const e of this.g_bbH)e();this.g_atr()}g_bcr(e){this.g_bbE.g_bcr(e)}g_bcs(e){this.g_bbE.g_bcs(e)}g_bct(){this.g_bbE.g_bct()}g_aRq(e){this.g_bbE.g_aRq(e)}g_CA(e){return!!s[e]}async g_ahm(e){const g=await this.g_baT("runtime","opus-decode",{arrayBuffer:e},null,[e]);return new Float32Array(g)}g_ge(e){return /^(?:[a-z]+:)?\/\//.test(e)||"data:"===e.substr(0,5)||"blob:"===e.substr(0,5)}g_gf(e){return!this.g_ge(e)}async g_bbM(e){const g=e.filename;switch(e.as){case"text":return await this.g_Ce(g);case"buffer":return await this.g_Cd(g);default:throw new Error("unsupported type");}}g_bcu(){const e=window.cordova&&window.cordova.plugins&&window.cordova.plugins.permissions;if("object"!=typeof e)throw new Error("Permission API is not loaded");return e}g_bcv(e,g){const _=e[g];if("string"!=typeof _)throw new Error("Invalid permission name");return _}g_bcw(e){const g=this.g_bcu();return new Promise((_,b)=>g.checkPermission(this.g_bcv(g,e),e=>_(!!e.hasPermission),b))}g_aLK(e){const g=this.g_bcu();return new Promise((_,b)=>g.requestPermission(this.g_bcv(g,e),e=>_(!!e.hasPermission),b))}async g_bcx(e){if("cordova"!==this.g_auf())return!0;if(this.g_asU())return!0;for(const g of e){const e=await this.g_bcw(g);if(e)continue;const _=await this.g_aLK(g);if(!1===_)return!1}return!0}async g_bcy(...e){if(!1===(await this.g_bcx(e)))throw new Error("Permission not granted")}g_bcz(e){const g=window.cordova.file.applicationDirectory+"www/"+e.toLowerCase();return new Promise((e,_)=>{window.resolveLocalFileSystemURL(g,g=>{g.file(e,_)},_)})}async g_Ce(e){const g=await this.g_bcz(e);return await t(g)}g_bcA(){if(g.length&&!(8<=d)){d++;const e=g.shift();this.g_bcB(e.filename,e.g_bcC,e.g_bcD)}}g_Cd(e){return new Promise((_,b)=>{g.push({filename:e,g_bcC:e=>{d--,this.g_bcA(),_(e)},g_bcD:e=>{d--,this.g_bcA(),b(e)}}),this.g_bcA()})}async g_bcB(g,_,e){try{const b=await this.g_bcz(g),t=await r(b);_(t)}catch(g){e(g)}}async g_bbP(){const e=[];for(const[g,_]of Object.entries(this.g_bbK))e.push(this.g_bcE(g,_));await Promise.all(e)}async g_bcE(e,g){if("object"==typeof g)this.g_bbK[e]=new Blob([g.str],{type:g.type}),this.g_bbL[e]=g.str;else{let _=await this.g_bcF(g);_||(_=this.g_bcG(g)),this.g_bbK[e]=_}}async g_bcF(e){try{const g=await fetch(e);return await g.blob()}catch(e){return console.warn("Failed to fetch a data: URI. Falling back to a slower workaround. This is probably because the Content Security Policy unnecessarily blocked it. Allow data: URIs in your CSP to avoid this.",e),null}}g_bcG(e){const g=this.g_bcH(e);return this.g_bcI(g.data,g.g_gx)}g_bcH(_){const t=_.indexOf(",");if(0>t)throw new URIError("expected comma in data: uri");const b=_.substring(5,t),n=_.substring(t+1),a=b.split(";"),e=a[0]||"",o=a[1],g=a[2];let r;return r="base64"===o||"base64"===g?atob(n):decodeURIComponent(n),{g_gx:e,data:r}}g_bcI(_,t){let b,n,a=_.length,e=a>>2,i=new Uint8Array(a),g=new Uint32Array(i.buffer,0,e);for(b=0,n=0;b<e;++b)g[b]=_.charCodeAt(n++)|_.charCodeAt(n++)<<8|_.charCodeAt(n++)<<16|_.charCodeAt(n++)<<24;for(let e=3&a;e--;)i[n]=_.charCodeAt(n),++n;return new Blob([i],{type:t})}g_bbW(){let e=null;const g=new Promise(g=>e=g),_=new ArrayBuffer(1),b=new MessageChannel;return b.port2.onmessage=g=>{g.data&&g.data.arrayBuffer||(this.g_bbJ=!0,console.warn("MessageChannel transfers determined to be broken. Disabling transferables.")),e()},b.port1.postMessage({arrayBuffer:_},[_]),g}}}{function _(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||e.originalEvent&&e.originalEvent.sourceCapabilities&&e.originalEvent.sourceCapabilities.firesTouchEvents}function t(e){return new Promise((g,_)=>{const b=document.createElement("link");b.onload=()=>g(b),b.onerror=e=>_(e),b.rel="stylesheet",b.href=e,document.head.appendChild(b)})}function a(e){return new Promise((g,_)=>{const b=new Image;b.onload=()=>g(b),b.onerror=e=>_(e),b.src=e})}async function s(e){const g=URL.createObjectURL(e);try{return await a(g)}finally{URL.revokeObjectURL(g)}}function d(e){return new Promise((g,_)=>{let b=new FileReader;b.onload=e=>g(e.target.result),b.onerror=e=>_(e),b.readAsText(e)})}async function u(e,_,b){if(!/firefox/i.test(navigator.userAgent))return await s(e);let t=await d(e);const n=new DOMParser,g=n.parseFromString(t,"image/svg+xml"),o=g.documentElement;if(o.hasAttribute("width")&&o.hasAttribute("height")){const g=o.getAttribute("width"),_=o.getAttribute("height");if(!g.includes("%")&&!_.includes("%"))return await s(e)}o.setAttribute("width",_+"px"),o.setAttribute("height",b+"px");const i=new XMLSerializer;return t=i.serializeToString(g),e=new Blob([t],{type:"image/svg+xml"}),await s(e)}function e(e){do{if(e.parentNode&&e.hasAttribute("contenteditable"))return!0;e=e.parentNode}while(e);return!1}function g(e){const g=e.target.tagName.toLowerCase();o.has(g)&&e.preventDefault()}function h(e){(e.metaKey||e.ctrlKey)&&e.preventDefault()}function b(){try{return window.parent&&window.parent.document.hasFocus()}catch(e){return!1}}function i(){const g=document.activeElement;if(!g)return!1;const _=g.tagName.toLowerCase(),b=new Set(["email","number","password","search","tel","text","url"]);return"textarea"===_||("input"===_?b.has(g.type.toLowerCase()||"text"):e(g))}const f=new Map([["OSLeft","MetaLeft"],["OSRight","MetaRight"]]),l={dispatchRuntimeEvent:!0,dispatchUserScriptEvent:!0},m={dispatchUserScriptEvent:!0},n={dispatchRuntimeEvent:!0},o=new Set(["canvas","body","html"]);self.C3_GetSvgImageSize=async function(e){const g=await s(e);if(0<g.width&&0<g.height)return[g.width,g.height];else{g.style.position="absolute",g.style.left="0px",g.style.top="0px",g.style.visibility="hidden",document.body.appendChild(g);const e=g.getBoundingClientRect();return document.body.removeChild(g),[e.width,e.height]}},self.C3_RasterSvgImageBlob=async function(_,t,b,n,a){const e=await u(_,t,b),g=document.createElement("canvas");g.width=n,g.height=a;const o=g.getContext("2d");return o.drawImage(e,0,0,t,b),g};let c=!1;document.addEventListener("pause",()=>c=!0),document.addEventListener("resume",()=>c=!1);const p=class extends g_baL{constructor(_){super(_,"runtime"),this.g_bcJ=!0,this.g_bcK=-1,this.g_bcL="any",this.g_bcM=!1,this.g_bcN=!1,this.g_bcO=null,this.g_bcP=null,this.g_bcQ=null,_.g_baY("canvas","update-size",e=>this.g_bcR(e)),_.g_baY("runtime","invoke-download",e=>this.g_bcS(e)),_.g_baY("runtime","raster-svg-image",e=>this.g_bcT(e)),_.g_baY("runtime","get-svg-image-size",e=>this.g_bcU(e)),_.g_baY("runtime","set-target-orientation",e=>this.g_bcV(e)),_.g_baY("runtime","register-sw",()=>this.g_bcW()),_.g_baY("runtime","post-to-debugger",e=>this.g_bcX(e)),_.g_baY("runtime","go-to-script",e=>this.g_bcX(e)),_.g_baY("runtime","before-start-ticking",()=>this.g_bcY()),_.g_baY("runtime","debug-highlight",e=>this.g_bcZ(e)),_.g_baY("runtime","enable-device-orientation",()=>this.g_bc_()),_.g_baY("runtime","enable-device-motion",()=>this.g_bc$()),_.g_baY("runtime","add-stylesheet",e=>this.g_bda(e)),_.g_baY("runtime","alert",e=>this.g_bdb(e));const t=new Set(["input","textarea","datalist"]);window.addEventListener("contextmenu",g=>{const _=g.target,b=_.tagName.toLowerCase();t.has(b)||e(_)||g.preventDefault()});const b=_.g_bbO();window.addEventListener("selectstart",g),window.addEventListener("gesturehold",g),b.addEventListener("selectstart",g),b.addEventListener("gesturehold",g),window.addEventListener("touchstart",g,{passive:!1}),"undefined"==typeof PointerEvent?b.addEventListener("touchstart",g):(window.addEventListener("pointerdown",g,{passive:!1}),b.addEventListener("pointerdown",g)),this.g_bdc=0,window.addEventListener("mousedown",e=>{1===e.button&&e.preventDefault()}),window.addEventListener("mousewheel",h,{passive:!1}),window.addEventListener("wheel",h,{passive:!1}),window.addEventListener("resize",()=>this.g_aps()),_.g_aug()&&window.addEventListener("focusout",()=>{i()||(document.scrollingElement.scrollTop=0)}),this.g_bdd=new Set,this.g_bde=new WeakSet,this.g_aQy=!1}g_bcY(){return"cordova"===this.g_asA.g_auf()?(document.addEventListener("pause",()=>this.g_asw(!0)),document.addEventListener("resume",()=>this.g_asw(!1))):document.addEventListener("visibilitychange",()=>this.g_asw(document.hidden)),{isSuspended:!!(document.hidden||c)}}g_baP(){window.addEventListener("focus",()=>this.g_bdf("window-focus")),window.addEventListener("blur",()=>{this.g_bdf("window-blur",{parentHasFocus:b()}),this.g_bdc=0}),window.addEventListener("fullscreenchange",()=>this.g_apt()),window.addEventListener("webkitfullscreenchange",()=>this.g_apt()),window.addEventListener("mozfullscreenchange",()=>this.g_apt()),window.addEventListener("fullscreenerror",e=>this.g_apu(e)),window.addEventListener("webkitfullscreenerror",e=>this.g_apu(e)),window.addEventListener("mozfullscreenerror",e=>this.g_apu(e)),window.addEventListener("keydown",e=>this.g_bdg("keydown",e)),window.addEventListener("keyup",e=>this.g_bdg("keyup",e)),window.addEventListener("dblclick",e=>this.g_bdh("dblclick",e,l)),window.addEventListener("wheel",e=>this.g_bdi("wheel",e)),"undefined"==typeof PointerEvent?(window.addEventListener("mousedown",e=>{this.g_bdj(e),this.g_bdk("pointerdown",e)}),window.addEventListener("mousemove",e=>this.g_bdk("pointermove",e)),window.addEventListener("mouseup",e=>this.g_bdk("pointerup",e)),window.addEventListener("touchstart",e=>{this.g_bdj(e),this.g_bdl("pointerdown",e)}),window.addEventListener("touchmove",e=>this.g_bdl("pointermove",e)),window.addEventListener("touchend",e=>this.g_bdl("pointerup",e)),window.addEventListener("touchcancel",e=>this.g_bdl("pointercancel",e))):(window.addEventListener("pointerdown",e=>{this.g_bdj(e),this.g_bdm("pointerdown",e)}),this.g_asA.g_baV()&&"undefined"!=typeof window.onpointerrawupdate&&self===self.top?(this.g_bcP=new g_m_(()=>this.g_bdn(),5),this.g_bcP.g_ni(!0),window.addEventListener("pointerrawupdate",e=>this.g_bdo(e))):window.addEventListener("pointermove",e=>this.g_bdm("pointermove",e)),window.addEventListener("pointerup",e=>this.g_bdm("pointerup",e)),window.addEventListener("pointercancel",e=>this.g_bdm("pointercancel",e)));const e=()=>this.g_bct();window.addEventListener("pointerup",e,!0),window.addEventListener("touchend",e,!0),window.addEventListener("click",e,!0),window.addEventListener("keydown",e,!0),window.addEventListener("gamepadconnected",e,!0)}g_bdf(e,g){this.g_baQ(e,g||null,n)}g_bdp(){return Math.max(window.innerWidth,1)}g_bdq(){return Math.max(window.innerHeight,1)}g_aps(){const e=this.g_bdp(),g=this.g_bdq();this.g_bdf("window-resize",{innerWidth:e,innerHeight:g,devicePixelRatio:window.devicePixelRatio}),this.g_asA.g_aug()&&(-1!==this.g_bcK&&clearTimeout(this.g_bcK),this.g_bdr(e,g,0))}g_bds(e,g,_){-1!==this.g_bcK&&clearTimeout(this.g_bcK),this.g_bcK=setTimeout(()=>this.g_bdr(e,g,_),48)}g_bdr(g,_,b){const t=this.g_bdp(),n=this.g_bdq();this.g_bcK=-1,t!=g||n!=_?this.g_bdf("window-resize",{innerWidth:t,innerHeight:n,devicePixelRatio:window.devicePixelRatio}):10>b&&this.g_bds(t,n,b+1)}g_bcV(e){this.g_bcL=e.targetOrientation}g_bdt(){const e=this.g_bcL;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(e).catch(e=>console.warn("[Construct 3] Failed to lock orientation: ",e));else try{let g=!1;screen.lockOrientation?g=screen.lockOrientation(e):screen.webkitLockOrientation?g=screen.webkitLockOrientation(e):screen.mozLockOrientation?g=screen.mozLockOrientation(e):screen.msLockOrientation&&(g=screen.msLockOrientation(e)),g||console.warn("[Construct 3] Failed to lock orientation")}catch(e){console.warn("[Construct 3] Failed to lock orientation: ",e)}}g_apt(){const e=g_bbu.g_apG();e&&"any"!==this.g_bcL&&this.g_bdt(),this.g_baQ("fullscreenchange",{isFullscreen:e,innerWidth:this.g_bdp(),innerHeight:this.g_bdq()})}g_apu(e){console.warn("[Construct 3] Fullscreen request failed: ",e),this.g_baQ("fullscreenerror",{isFullscreen:g_bbu.g_apG(),innerWidth:this.g_bdp(),innerHeight:this.g_bdq()})}g_asw(e){e?this.g_asA.g_ats():this.g_asA.g_atr(),this.g_baQ("visibilitychange",{hidden:e})}g_bdg(e,_){"Backspace"===_.key&&g(_);const b=f.get(_.code)||_.code;this.g_baU(e,{code:b,key:_.key,which:_.which,repeat:_.repeat,altKey:_.altKey,ctrlKey:_.ctrlKey,metaKey:_.metaKey,shiftKey:_.shiftKey,timeStamp:_.timeStamp},l)}g_bdi(e,g){this.g_baQ(e,{clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY,deltaX:g.deltaX,deltaY:g.deltaY,deltaZ:g.deltaZ,deltaMode:g.deltaMode,timeStamp:g.timeStamp},l)}g_bdh(e,g,b){_(g)||this.g_baU(e,{button:g.button,buttons:g.buttons,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY,timeStamp:g.timeStamp},b)}g_bdk(e,g){if(!_(g)){const _=this.g_bdc;"pointerdown"===e&&0!==_?e="pointermove":"pointerup"==e&&0!==g.buttons&&(e="pointermove"),this.g_baU(e,{pointerId:1,pointerType:"mouse",button:g.button,buttons:g.buttons,lastButtons:_,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,timeStamp:g.timeStamp},l),this.g_bdc=g.buttons,this.g_bdh(g.type,g,m)}}g_bdm(e,g){this.g_bcP&&"pointermove"!==e&&this.g_bcP.g_lM();let _=0;if("mouse"===g.pointerType&&(_=this.g_bdc),this.g_baU(e,{pointerId:g.pointerId,pointerType:g.pointerType,button:g.button,buttons:g.buttons,lastButtons:_,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY,width:g.width||0,height:g.height||0,pressure:g.pressure||0,tangentialPressure:g.tangentialPressure||0,tiltX:g.tiltX||0,tiltY:g.tiltY||0,twist:g.twist||0,timeStamp:g.timeStamp},l),"mouse"===g.pointerType){let _="mousemove";"pointerdown"===e?_="mousedown":"pointerup"==e&&(_="pointerup"),this.g_bdh(_,g,m),this.g_bdc=g.buttons}}g_bdo(e){this.g_bcQ=e,this.g_bcP.g_nm()}g_bdn(){this.g_bdm("pointermove",this.g_bcQ),this.g_bcQ=null}g_bdl(e,g){for(let _=0,b=g.changedTouches.length;_<b;++_){const b=g.changedTouches[_];this.g_baU(e,{pointerId:b.identifier,pointerType:"touch",button:0,buttons:0,lastButtons:0,clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY,width:2*(b.radiusX||b.webkitRadiusX||0),height:2*(b.radiusY||b.webkitRadiusY||0),pressure:b.force||b.webkitForce||0,tangentialPressure:0,tiltX:0,tiltY:0,twist:b.rotationAngle||0,timeStamp:g.timeStamp},l)}}g_bdj(e){window!==window.top&&window.focus(),this.g_bdu(e.target)&&document.activeElement&&!this.g_bdu(document.activeElement)&&document.activeElement.blur()}g_bdu(e){return!e||e===document||e===window||e===document.body||"canvas"===e.tagName.toLowerCase()}g_bc_(){this.g_bcM||(this.g_bcM=!0,window.addEventListener("deviceorientation",e=>this.g_aMg(e)))}g_bc$(){this.g_bcN||(this.g_bcN=!0,window.addEventListener("devicemotion",e=>this.g_aMh(e)))}g_aMg(e){this.g_baQ("deviceorientation",{alpha:e.alpha||0,beta:e.beta||0,gamma:e.gamma||0,timeStamp:e.timeStamp},l)}g_aMh(_){let t=null;const n=_.acceleration;n&&(t={x:n.x||0,y:n.y||0,z:n.z||0});let a=null;const i=_.accelerationIncludingGravity;i&&(a={x:i.x||0,y:i.y||0,z:i.z||0});let e=null;const o=_.rotationRate;o&&(e={alpha:o.alpha||0,beta:o.beta||0,gamma:o.gamma||0}),this.g_baQ("devicemotion",{acceleration:t,accelerationIncludingGravity:a,rotationRate:e,interval:_.interval,timeStamp:_.timeStamp},l)}g_bcR(e){const g=this.g_ba_(),_=g.g_bbO();_.style.width=e.styleWidth+"px",_.style.height=e.styleHeight+"px",_.style.marginLeft=e.marginLeft+"px",_.style.marginTop=e.marginTop+"px",g.g_bbV(),this.g_bcJ&&(_.style.display="",this.g_bcJ=!1)}g_bcS(g){const _=g.url,b=g.filename,t=document.createElement("a"),e=document.body;t.textContent=b,t.href=_,t.download=b,e.appendChild(t),t.click(),e.removeChild(t)}async g_bcT(_){const t=_.blob,b=_.imageWidth,n=_.imageHeight,a=_.surfaceWidth,e=_.surfaceHeight,o=_.imageBitmapOpts,g=await self.C3_RasterSvgImageBlob(t,b,n,a,e);let r;return r=o?await createImageBitmap(g,o):await createImageBitmap(g),{imageBitmap:r,transferables:[r]}}async g_bcU(e){return await self.C3_GetSvgImageSize(e.blob)}async g_bda(e){await t(e.url)}g_bct(){const e=[...this.g_bdd];if(this.g_bdd.clear(),!this.g_aQy)for(const g of e){const e=g.play();e&&e.catch(()=>{this.g_bde.has(g)||this.g_bdd.add(g)})}}g_bcr(e){if("function"!=typeof e.play)throw new Error("missing play function");this.g_bde.delete(e);let g;try{g=e.play()}catch(g){return void this.g_bdd.add(e)}g&&g.catch(()=>{this.g_bde.has(e)||this.g_bdd.add(e)})}g_bcs(e){this.g_bdd.delete(e),this.g_bde.add(e)}g_aRq(e){this.g_aQy=!!e}g_bcZ(e){const g=e.show;if(!g)return void(this.g_bcO&&(this.g_bcO.style.display="none"));this.g_bcO||(this.g_bcO=document.createElement("div"),this.g_bcO.id="inspectOutline",document.body.appendChild(this.g_bcO));const _=this.g_bcO;_.style.display="",_.style.left=e.left-1+"px",_.style.top=e.top-1+"px",_.style.width=e.width+2+"px",_.style.height=e.height+2+"px",_.textContent=e.name}g_bcW(){window.C3_RegisterSW&&window.C3_RegisterSW()}g_bcX(e){window.c3_postToMessagePort&&(e.from="runtime",window.c3_postToMessagePort(e))}g_Ws(e,g){return this.g_baS("js-invoke-function",{name:e,params:g})}g_bdb(e){alert(e.message)}};g_bbu.g_bcp(p)}{const e=document.currentScript.src;self.g_bbU=class{constructor(g){this.g_bdv=g,this.g_aqu=e?e.substr(0,e.lastIndexOf("/")+1):g.g_fl(),this.g_auO=Math.min(navigator.hardwareConcurrency||2,16),this.g_bdw=null,this.g_bdx=[],this.g_auM=null,this.g_bdy=null}async g_alx(){if(this.g_bdz)throw new Error("already initialised");this.g_bdz=!0;const e=this.g_bdv.g_bbZ("dispatchworker.js");this.g_bdw=await this.g_bdv.g_bb_(e,this.g_aqu,{name:"DispatchWorker"});const g=new MessageChannel;this.g_auM=g.port1,this.g_bdw.postMessage({type:"_init","in-port":g.port2},[g.port2]),this.g_bdy=await this.g_bck()}async g_bck(){const g=this.g_bdx.length,_=this.g_bdv.g_bbZ("jobworker.js"),b=await this.g_bdv.g_bb_(_,this.g_aqu,{name:"JobWorker"+g}),t=new MessageChannel,n=new MessageChannel;return this.g_bdw.postMessage({type:"_addJobWorker",port:t.port1},[t.port1]),b.postMessage({type:"init",number:g,"dispatch-port":t.port2,"output-port":n.port2},[t.port2,n.port2]),this.g_bdx.push(b),n.port1}g_bcc(){return{inputPort:this.g_auM,outputPort:this.g_bdy,maxNumWorkers:this.g_auO}}g_bcg(){return[this.g_auM,this.g_bdy]}}}if("use strict",window.C3_IsSupported){"undefined"!=typeof OffscreenCanvas;window.c3_runtimeInterface=new g_bbu({g_bbw:!1,g_bcd:"workermain.js",g_bbQ:["scripts/c3runtime.js"],g_bbz:"scripts/",g_bce:[],g_bbI:"html5"})}{function g(e){e.stopPropagation()}function _(e){13!==e.which&&27!==e.which&&e.stopPropagation()}const e=class extends g_bbc{constructor(e){super(e,"text-input"),this.g_bbm("scroll-to-bottom",e=>this.g_bdA(e))}g_afN(b,t){let n;const a=t.type;return"textarea"===a?(n=document.createElement("textarea"),n.style.resize="none"):(n=document.createElement("input"),n.type=a),n.style.position="absolute",n.autocomplete="off",n.addEventListener("touchstart",g),n.addEventListener("touchmove",g),n.addEventListener("touchend",g),n.addEventListener("mousedown",g),n.addEventListener("mouseup",g),n.addEventListener("keydown",_),n.addEventListener("keyup",_),n.addEventListener("click",e=>{e.stopPropagation(),this.g_bbp("click",b)}),n.addEventListener("dblclick",e=>{e.stopPropagation(),this.g_bbp("dblclick",b)}),n.addEventListener("input",()=>this.g_bbo("change",b,{text:n.value})),n.id=t.id,this.g_bbq(n,t),n}g_bbq(e,g){e.value=g.text,e.placeholder=g.placeholder,e.title=g.title,e.disabled=!g.isEnabled,e.readOnly=g.isReadOnly,e.spellcheck=g.spellCheck}g_bdA(e){e.scrollTop=e.scrollHeight}};g_bbu.g_bcp(e)}{const e=class extends g_baL{constructor(e){super(e,"touch"),this.g_baX("request-permission",e=>this.g_bdB(e))}async g_bdB(e){const g=e.type;let _=!0;0===g?_=await this.g_bdC():1===g&&(_=await this.g_bdD()),this.g_baQ("permission-result",{type:g,result:_})}async g_bdC(){if(!self.DeviceOrientationEvent||!self.DeviceOrientationEvent.requestPermission)return!0;try{const e=await self.DeviceOrientationEvent.requestPermission();return"granted"===e}catch(e){return console.warn("[Touch] Failed to request orientation permission: ",e),!1}}async g_bdD(){if(!self.DeviceMotionEvent||!self.DeviceMotionEvent.requestPermission)return!0;try{const e=await self.DeviceMotionEvent.requestPermission();return"granted"===e}catch(e){return console.warn("[Touch] Failed to request motion permission: ",e),!1}}};g_bbu.g_bcp(e)}{const e=class extends g_baL{constructor(e){super(e,"browser"),this.g_aqz="",this.g_baZ([["get-initial-state",e=>this.g_bdE(e)],["ready-for-sw-messages",()=>this.g_bdF()],["alert",e=>this.g_bdb(e)],["close",()=>this.g_bdG()],["set-focus",e=>this.g_bbj(e)],["vibrate",e=>this.g_bdH(e)],["lock-orientation",e=>this.g_bdI(e)],["unlock-orientation",()=>this.g_bdJ()],["navigate",e=>this.g_bdK(e)],["request-fullscreen",e=>this.g_bdL(e)],["exit-fullscreen",()=>this.g_bdM()],["set-hash",e=>this.g_bdN(e)]]),window.addEventListener("online",()=>this.g_aOv(!0)),window.addEventListener("offline",()=>this.g_aOv(!1)),window.addEventListener("hashchange",()=>this.g_aOy()),document.addEventListener("backbutton",()=>this.g_bdO()),"undefined"!=typeof Windows&&Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",e=>this.g_bdP(e))}g_bdE(e){return this.g_aqz=e.exportType,{location:location.toString(),isOnline:!!navigator.onLine,referrer:document.referrer,title:document.title,isCookieEnabled:!!navigator.cookieEnabled,screenWidth:screen.width,screenHeight:screen.height,windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,isScirraArcade:"undefined"!=typeof window.is_scirra_arcade}}g_bdF(){window.C3_RegisterSW&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(e=>this.g_baQ("sw-message",e.data))}g_aOv(e){this.g_baQ("online-state",{isOnline:e})}g_bdO(){this.g_baQ("backbutton")}g_bdP(e){e.handled=!0,this.g_baQ("backbutton")}g_bdQ(){return"nwjs"===this.g_aqz?nw.Window.get():null}g_bdb(e){alert(e.message)}g_bdG(){navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():window.close()}g_bbj(e){const g=e.isFocus;if("nwjs"===this.g_aqz){const e=this.g_bdQ();g?e.focus():e.blur()}else g?window.focus():window.blur()}g_bdH(e){navigator.vibrate&&navigator.vibrate(e.pattern)}g_bdI(e){const g=e.orientation;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(g).catch(e=>console.warn("[Construct 3] Failed to lock orientation: ",e));else try{let e=!1;screen.lockOrientation?e=screen.lockOrientation(g):screen.webkitLockOrientation?e=screen.webkitLockOrientation(g):screen.mozLockOrientation?e=screen.mozLockOrientation(g):screen.msLockOrientation&&(e=screen.msLockOrientation(g)),e||console.warn("[Construct 3] Failed to lock orientation")}catch(e){console.warn("[Construct 3] Failed to lock orientation: ",e)}}g_bdJ(){try{screen.orientation&&screen.orientation.unlock?screen.orientation.unlock():screen.unlockOrientation?screen.unlockOrientation():screen.webkitUnlockOrientation?screen.webkitUnlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()}catch(e){}}g_bdK(e){const g=e.type;if("back"===g)navigator.app&&navigator.app.backHistory?navigator.app.backHistory():window.back();else if("forward"===g)window.forward();else if("home"===g)window.g_bdR();else if("reload"===g)location.reload();else if("url"===g){const g=e.url,_=e.target,b=e.exportType;"windows-uwp"===b&&"undefined"!=typeof Windows?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(g)):"cordova"===b?window.open(g,"_system"):"preview"===b?window.open(g,"_blank"):!this.g_aOu&&(2===_?window.top.location=g:1===_?window.parent.location=g:window.location=g)}else if("new-window"===g){const g=e.url,_=e.tag,b=e.exportType;"windows-uwp"===b&&"undefined"!=typeof Windows?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(g)):"cordova"===b?window.open(g,"_system"):window.open(g,_)}}g_bdL(e){const g={navigationUI:"auto"},_=e.navUI;1===_?g.navigationUI="hide":2===_&&(g.navigationUI="show");const b=document.documentElement;b.requestFullscreen?b.requestFullscreen(g):b.mozRequestFullScreen?b.mozRequestFullScreen(g):b.msRequestFullscreen?b.msRequestFullscreen(g):b.webkitRequestFullScreen&&("undefined"==typeof Element.ALLOW_KEYBOARD_INPUT?b.webkitRequestFullScreen():b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT))}g_bdM(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}g_bdN(e){location.hash=e.hash}g_aOy(){this.g_baQ("hashchange",{location:location.toString()})}};g_bbu.g_bcp(e)}{function e(){const e=self.RealFile||self.File;return"function"==typeof navigator.canShare&&navigator.canShare({files:[new e(["test file"],"test.txt",{})]})}const g=class extends g_baL{constructor(g){super(g,"share");const _=!!this.g_bdS();this.g_bdT="function"==typeof navigator.share,this.g_aPT=this.g_bdT||_,this.g_bdU=e(),this.g_aPU=this.g_bdU||_,this.g_baZ([["init",e=>this.g_bdV(e)],["share",e=>this.g_bdW(e)],["request-rate",e=>this.g_bdX(e)],["request-store",e=>this.g_bdY(e)]])}g_bdV(){return{isSupported:this.g_aPT,isFilesSupported:this.g_aPU}}g_bdS(){return window.plugins&&window.plugins.socialsharing}g_bdZ(){return window.cordova&&window.cordova.plugins&&window.cordova.plugins.RateApp}async g_bdW(_){const t=_.text,b=_.title,n=_.url,i=_.files.slice(0),e=0<i.length,o=this.g_bdS();if(!o){const g={};t&&(g.text=t),b&&(g.title=b),n&&(g.url=n),e&&(g.files=i);try{await navigator.share(g),this.g_baQ("share-completed")}catch(e){console.log("[Share plugin] Share failed: ",e),this.g_baQ("share-failed")}}else{const g={};if(t&&(g.message=t),b&&(g.subject=b),n&&(g.url=n),e){let e=0;for(const g of i)e+=g.size;try{const _=await this.g_bd_(Math.floor(1.25*e));g.files=await Promise.all(i.map(e=>this.g_bd$(e,_)))}catch(e){return console.log("[Share plugin] Share failed: ",e),void this.g_baQ("share-failed")}}o.shareWithOptions(g,()=>{this.g_baQ("share-completed")},e=>{console.log("[Share plugin] Share failed: ",e),this.g_baQ("share-failed")})}}g_bdX(g){const _=g.body,b=g.confirm,t=g.cancel,n=g.appID,e=this.g_bdZ();e&&e.Rate(_,b,t,n)}g_bdY(e){const g=e.appID,_=this.g_bdZ();_&&_.Store(g)}g_bd_(e){return new Promise((g,_)=>{window.requestFileSystem(window.TEMPORARY,e,e=>g(e.root),_)})}g_bd$(g,e){return new Promise((_,t)=>{e.getFile(g.name,{create:!0,exclusive:!1},n=>{const b=n.toURL();n.createWriter(e=>{e.onwriteend=()=>_(b),e.onerror=t,e.write(g)})},t)})}};g_bbu.g_bcp(g)}{function e(e,g){return e.length===g.length&&(e===g||e.toLowerCase()===g.toLowerCase())}const g=class extends g_baL{constructor(e){super(e,"audio"),this.g_bea=null,this.g_beb=null,this.g_bec=!1,this.g_bed=!1,this.g_bee=()=>this.g_bef(),this.g_beg=[],this.g_beh=[],this.g_bei=null,this.g_bej="",this.g_bek=-1,this.g_bel=new Map,this.g_aQx=1,this.g_aQy=!1,this.g_aQk=0,this.g_alt=1,this.g_arV=0,this.g_aQn="HRTF",this.g_aQo="inverse",this.g_bem=600,this.g_aQt=1e4,this.g_aQu=1,this.g_ben=!1,this.g_beo=!1,this.g_bep=this.g_asA.g_CA("audio/webm; codecs=opus"),this.g_beq=new Map,this.g_ber=new Set,this.g_bes=!1,this.g_bet="",this.g_beu=null,self.C3Audio_OnMicrophoneStream=(e,g)=>this.g_bev(e,g),this.g_bew=null,self.C3Audio_GetOutputStream=()=>this.g_bex(),self.C3Audio_DOMInterface=this,this.g_baZ([["create-audio-context",e=>this.g_bey(e)],["play",e=>this.g_bez(e)],["stop",e=>this.g_beA(e)],["stop-all",()=>this.g_beB()],["set-paused",e=>this.g_beC(e)],["set-volume",e=>this.g_beD(e)],["fade-volume",e=>this.g_beE(e)],["set-master-volume",e=>this.g_beF(e)],["set-muted",e=>this.g_beG(e)],["set-silent",e=>this.g_beH(e)],["set-looping",e=>this.g_beI(e)],["set-playback-rate",e=>this.g_beJ(e)],["seek",e=>this.g_beK(e)],["preload",e=>this.g_beL(e)],["unload",e=>this.g_HN(e)],["unload-all",()=>this.g_beM()],["set-suspended",e=>this.g_beN(e)],["add-effect",e=>this.g_beO(e)],["set-effect-param",e=>this.g_beP(e)],["remove-effects",e=>this.g_beQ(e)],["tick",e=>this.g_Ke(e)],["load-state",e=>this.g_beR(e)]])}async g_bey(e){e.isiOSCordova&&(this.g_ben=!0),this.g_aQk=e.timeScaleMode,this.g_aQn=["equalpower","HRTF","soundfield"][e.panningModel],this.g_aQo=["linear","inverse","exponential"][e.distanceModel],this.g_bem=e.refDistance,this.g_aQt=e.maxDistance,this.g_aQu=e.rolloffFactor;const g={latencyHint:e.latencyHint};if("undefined"!=typeof AudioContext)this.g_bea=new AudioContext(g);else if("undefined"!=typeof webkitAudioContext)this.g_bea=new webkitAudioContext(g);else throw new Error("Web Audio API not supported");this.g_beS(),this.g_bea.onstatechange=()=>{"running"!==this.g_bea.state&&this.g_beS()},this.g_beb=this.g_bea.createGain(),this.g_beb.connect(this.g_bea.destination);const _=e.listenerPos;this.g_bea.listener.setPosition(_[0],_[1],_[2]),this.g_bea.listener.setOrientation(0,0,1,0,-1,0),self.C3_GetAudioContextCurrentTime=()=>this.g_beT();try{await Promise.all(e.preloadList.map(e=>this.g_beU(e.originalUrl,e.url,e.type,!1)))}catch(e){console.error("[Construct 3] Preloading sounds failed: ",e)}return{sampleRate:this.g_bea.sampleRate}}g_beS(){this.g_bed||(this.g_bec=!1,window.addEventListener("pointerup",this.g_bee,!0),window.addEventListener("touchend",this.g_bee,!0),window.addEventListener("click",this.g_bee,!0),window.addEventListener("keydown",this.g_bee,!0),this.g_bed=!0)}g_beV(){this.g_bed&&(this.g_bec=!0,window.removeEventListener("pointerup",this.g_bee,!0),window.removeEventListener("touchend",this.g_bee,!0),window.removeEventListener("click",this.g_bee,!0),window.removeEventListener("keydown",this.g_bee,!0),this.g_bed=!1)}g_bef(){if(!this.g_bec){const e=this.g_bea;"suspended"===e.state&&e.resume&&e.resume();const g=e.createBuffer(1,220,22050),_=e.createBufferSource();_.buffer=g,_.connect(e.destination),_.start(0),"running"===e.state&&this.g_beV()}}g_aQf(){return this.g_bea}g_beT(){return this.g_bea.currentTime}g_aQh(){return this.g_beb}g_beW(e){const g=this.g_beq.get(e.toLowerCase());return g?g[0].g_beX():this.g_aQh()}g_beY(e,g){e=e.toLowerCase();let _=this.g_beq.get(e);_||(_=[],this.g_beq.set(e,_)),g.g_and(_.length),g.g_beZ(e),_.push(g),this.g_be_(e)}g_be_(e){let g=this.g_aQh();const _=this.g_beq.get(e);if(_&&_.length){g=_[0].g_beX();for(let e=0,g=_.length;e<g;++e){const b=_[e];e+1===g?b.g_be$(this.g_aQh()):b.g_be$(_[e+1].g_beX())}}for(const _ of this.g_bfa(e))_.g_bfb(g);this.g_beu&&this.g_bet===e&&(this.g_beu.disconnect(),this.g_beu.connect(g))}g_bfc(){return this.g_aQx}g_aQ$(){return this.g_aQy}g_bfd(){return this.g_aQk}g_Le(){return this.g_alt}g_Gt(){return this.g_arV}g_bfe(){return this.g_ben}g_bff(){return this.g_bep}g_bfg(){this.g_beo=!0}g_bfh(){return this.g_aQn}g_bfi(){return this.g_aQo}g_bfj(){return this.g_bem}g_bfk(){return this.g_aQt}g_bfl(){return this.g_aQu}g_bfm(e,g){return g?this.g_asA.g_ahm(e).then(e=>{const g=this.g_bea.createBuffer(1,e.length,48e3),_=g.getChannelData(0);return _.set(e),g}):new Promise((g,_)=>{this.g_bea.decodeAudioData(e,g,_)})}g_bcr(e){this.g_asA.g_bcr(e)}g_bcs(e){this.g_asA.g_bcs(e)}g_bfn(g){let _=0;for(let b=0,e=this.g_beh.length;b<e;++b){const t=this.g_beh[b];this.g_beh[_]=t,t.g_bfo()===g?t.g_er():++_}this.g_beh.length=_}g_bfp(){let e=0;for(let g=0,_=this.g_beg.length;g<_;++g){const _=this.g_beg[g];this.g_beg[e]=_,_.g_bfq()?_.g_er():++e}this.g_beg.length=e}*g_bfa(g){if(g)for(const _ of this.g_beh)e(_.g_bfr(),g)&&(yield _);else this.g_bei&&!this.g_bei.g_bfs()&&(yield this.g_bei)}async g_beU(g,_,b,t,n){for(const e of this.g_beg)if(e.g_bft()===_)return await e.g_Cp(),e;if(n)return null;t&&(this.g_ben||this.g_beo)&&this.g_bfp();const e=g_bfu.g_sp(this,g,_,b,t);return this.g_beg.push(e),await e.g_Cp(),e}async g_bfv(_,t,b,n,a){for(const e of this.g_beh)if(e.g_bft()===t&&(e.g_bfw()||a))return e.g_bfx(n),e;const e=await this.g_beU(_,t,b,a),i=e.g_ahC(n);return this.g_beh.push(i),i}g_bfy(e){let g=this.g_bel.get(e);if(!g){let _=null;const b=new Promise(e=>_=e);g={g_bfz:0,promise:b,resolve:_},this.g_bel.set(e,g)}g.g_bfz++}g_bfA(e){const g=this.g_bel.get(e);if(!g)throw new Error("expected pending tag");g.g_bfz--,0===g.g_bfz&&(g.resolve(),this.g_bel.delete(e))}g_bfB(e){e||(e=this.g_bej);const g=this.g_bel.get(e);return g?g.promise:Promise.resolve()}g_bfC(){if(0<this.g_ber.size)return void this.g_afl();for(const e of this.g_beh)if(e.g_Ze())return void this.g_afl()}g_Lg(){for(const e of this.g_ber)e.g_Lg();const e=this.g_beT();for(const g of this.g_beh)g.g_Lg(e);const g=this.g_beh.filter(e=>e.g_Ze()).map(e=>e.g_bfD());this.g_baQ("state",{tickCount:this.g_bek,audioInstances:g,analysers:[...this.g_ber].map(e=>e.g_bfE())}),0===g.length&&0===this.g_ber.size&&this.g_aeX()}g_bfF(e,g,_){this.g_baQ("trigger",{type:e,tag:g,aiid:_})}async g_bez(_){const t=_.originalUrl,b=_.url,n=_.type,a=_.isMusic,e=_.tag,o=_.isLooping,g=_.vol,r=_.pos,i=_.panning;let s=_.off;if(0<s&&!_.trueClock)if(this.g_bea.getOutputTimestamp){const e=this.g_bea.getOutputTimestamp();s=s-e.performanceTime/1e3+e.contextTime}else s=s-performance.now()/1e3+this.g_bea.currentTime;this.g_bej=e,this.g_bfy(e);try{this.g_bei=await this.g_bfv(t,b,n,e,a),i?(this.g_bei.g_bfG(!0),this.g_bei.g_bfH(i.x,i.y,i.angle,i.innerAngle,i.outerAngle,i.outerGain),i.hasOwnProperty("uid")&&this.g_bei.g_bfI(i.uid)):this.g_bei.g_bfG(!1),this.g_bei.g_No(o,g,r,s)}catch(e){return void console.error("[Construct 3] Audio: error starting playback: ",e)}finally{this.g_bfA(e)}this.g_afl()}g_beA(e){const g=e.tag;for(const _ of this.g_bfa(g))_.g_Kp()}g_beB(){for(const e of this.g_beh)e.g_Kp()}g_beC(e){const g=e.tag,_=e.paused;for(const b of this.g_bfa(g))_?b.g_bfJ():b.g_Nn();this.g_bfC()}g_beD(e){const g=e.tag,_=e.vol;for(const b of this.g_bfa(g))b.g_aRj(_)}async g_beE(g){const _=g.tag,b=g.vol,t=g.duration,n=g.stopOnEnd;await this.g_bfB(_);for(const e of this.g_bfa(_))e.g_aRk(b,t,n);this.g_bfC()}g_beF(e){this.g_aQx=e.vol;for(const g of this.g_beh)g.g_bfK()}g_beG(e){const g=e.tag,_=e.isMuted;for(const b of this.g_bfa(g))b.g_aRi(_)}g_beH(e){this.g_aQy=e.isSilent,this.g_asA.g_aRq(this.g_aQy);for(const g of this.g_beh)g.g_bfL()}g_beI(e){const g=e.tag,_=e.isLooping;for(const b of this.g_bfa(g))b.g_aRh(_)}async g_beJ(e){const g=e.tag,_=e.rate;await this.g_bfB(g);for(const b of this.g_bfa(g))b.g_MA(_)}async g_beK(e){const g=e.tag,_=e.pos;await this.g_bfB(g);for(const b of this.g_bfa(g))b.g_aRp(_)}async g_beL(g){const _=g.originalUrl,b=g.url,t=g.type,n=g.isMusic;try{await this.g_bfv(_,b,t,"",n)}catch(e){console.error("[Construct 3] Audio: error preloading: ",e)}}async g_HN(g){const _=g.url,b=g.type,t=g.isMusic,n=await this.g_beU("",_,b,t,!0);if(n){n.g_er();const e=this.g_beg.indexOf(n);-1!==e&&this.g_beg.splice(e,1)}}g_beM(){for(const e of this.g_beg)e.g_er();this.g_beg.length=0}g_beN(e){const g=e.isSuspended;!g&&this.g_bea.resume&&this.g_bea.resume();for(const _ of this.g_beh)_.g_atq(g);g&&this.g_bea.suspend&&this.g_bea.suspend()}g_Ke(e){if(this.g_alt=e.timeScale,this.g_arV=e.gameTime,this.g_bek=e.tickCount,0!==this.g_aQk)for(const e of this.g_beh)e.g_bfM();const g=e.listenerPos;g&&this.g_bea.listener.setPosition(g[0],g[1],g[2]);for(const g of e.instPans){const e=g.uid;for(const _ of this.g_beh)_.g_Et()===e&&_.g_bfN(g.x,g.y,g.angle)}}async g_beO(g){const _=g.type,b=g.tag,t=g.params;let n;if("filter"===_)n=new g_bfO(this,...t);else if("delay"===_)n=new g_bfP(this,...t);else if("convolution"===_){let e=null;try{e=await this.g_beU(g.bufferOriginalUrl,g.bufferUrl,g.bufferType,!1)}catch(e){return void console.log("[Construct 3] Audio: error loading convolution: ",e)}n=new g_bfQ(this,e.g_bfR(),...t),n.g_bfS(g.bufferOriginalUrl,g.bufferUrl,g.bufferType)}else if("flanger"===_)n=new g_bfT(this,...t);else if("phaser"===_)n=new g_bfU(this,...t);else if("gain"===_)n=new g_bfV(this,...t);else if("tremolo"===_)n=new g_bfW(this,...t);else if("ringmod"===_)n=new g_bfX(this,...t);else if("distortion"===_)n=new g_bfY(this,...t);else if("compressor"===_)n=new g_bfZ(this,...t);else if("analyser"===_)n=new g_bf_(this,...t);else throw new Error("invalid effect type");this.g_beY(b,n),this.g_bf$()}g_beP(_){const t=_.tag,b=_.index,n=_.param,a=_.value,e=_.ramp,i=_.time,g=this.g_beq.get(t);!g||0>b||b>=g.length||(g[b].g_bga(n,a,e,i),this.g_bf$())}g_beQ(e){const g=e.tag.toLowerCase(),_=this.g_beq.get(g);if(_&&_.length){for(const e of _)e.g_er();this.g_beq.delete(g),this.g_be_(g)}}g_bgb(e){this.g_ber.add(e),this.g_bfC()}g_bgc(e){this.g_ber.delete(e)}g_bf$(){this.g_bes||(this.g_bes=!0,Promise.resolve().then(()=>this.g_bgd()))}g_bgd(){const e={};for(const[g,_]of this.g_beq)e[g]=_.map(e=>e.g_bfD());this.g_baQ("fxstate",{fxstate:e}),this.g_bes=!1}async g_beR(e){const g=e.saveLoadMode;if(3!==g)for(const e of this.g_beh)e.g_bfq()&&1===g||!e.g_bfq()&&2===g||e.g_Kp();for(const g of this.g_beq.values())for(const e of g)e.g_er();this.g_beq.clear(),this.g_alt=e.timeScale,this.g_arV=e.gameTime;const _=e.listenerPos;this.g_bea.listener.setPosition(_[0],_[1],_[2]),this.g_aQy=e.isSilent,this.g_asA.g_aRq(this.g_aQy),this.g_aQx=e.masterVolume;const t=[];for(const g of Object.values(e.effects))t.push(Promise.all(g.map(e=>this.g_beO(e))));await Promise.all(t),await Promise.all(e.playing.map(e=>this.g_bge(e,g))),this.g_bfC()}async g_bge(_,t){if(3===t)return;const b=_.bufferOriginalUrl,n=_.bufferUrl,a=_.bufferType,e=_.isMusic,o=_.tag,g=_.isLooping,r=_.volume,i=_.playbackTime;if(e&&1===t)return;if(!e&&2===t)return;let s=null;try{s=await this.g_bfv(b,n,a,o,e)}catch(e){return void console.error("[Construct 3] Audio: error loading audio state: ",e)}s.g_bgf(_.pan),s.g_No(g,r,i,0),_.isPlaying||s.g_bfJ(),s.g_bgg(_)}g_bev(e,g){this.g_beu&&this.g_beu.disconnect(),this.g_bet=g.toLowerCase(),this.g_beu=this.g_bea.createMediaStreamSource(e),this.g_beu.connect(this.g_beW(this.g_bet))}g_bex(){return this.g_bew||(this.g_bew=this.g_bea.createMediaStreamDestination(),this.g_beb.connect(this.g_bew)),this.g_bew.stream}};g_bbu.g_bcp(g)}"use strict",self.g_bfu=class{constructor(g,_,b,t,n){this.g_bgh=g,this.g_bgi=_,this.g_CQ=b,this.g_kU=t,this.g_bgj=n,this.g_bgk="",this.g_bgl="not-loaded",this.g_CV=null}g_er(){this.g_bgl="not-loaded",this.g_bgh=null,this.g_CV=null}static g_sp(g,_,b,t,n){const e="audio/webm; codecs=opus"===t&&!g.g_bff();return n&&e&&g.g_bfg(),!n||g.g_bfe()||e?new g_bgm(g,_,b,t,n,e):new g_bgn(g,_,b,t,n)}g_ahC(e){return"html5"===this.g_bgk?new g_bgo(this.g_bgh,this,e):new g_bgp(this.g_bgh,this,e)}g_HF(){}g_Cp(){return this.g_CV||(this.g_CV=this.g_HF()),this.g_CV}g_CW(){}g_bgq(){}g_bgr(){return"failed"===this.g_bgl}g_aQf(){return this.g_bgh.g_aQf()}g_bgs(){return this.g_bgk}g_bgt(){return this.g_bgi}g_bft(){return this.g_CQ}g_bgu(){return this.g_kU}g_bfq(){return this.g_bgj}g_ajp(){}},"use strict",self.g_bgn=class extends g_bfu{constructor(g,_,b,t,n){super(g,_,b,t,n),this.g_bgk="html5",this.g_bgv=new Audio,this.g_bgv.crossOrigin="anonymous",this.g_bgv.autoplay=!1,this.g_bgv.preload="auto",this.g_bgw=null,this.g_bgx=null,this.g_bgy=!1,this.g_bgv.addEventListener("canplaythrough",()=>this.g_bgy=!0),this.g_bgz=this.g_aQf().createGain(),this.g_bgA=null,this.g_bgv.addEventListener("canplay",()=>{this.g_bgw&&(this.g_bgl="loaded",this.g_bgw(),this.g_bgw=null,this.g_bgx=null),this.g_bgA||!this.g_bgv||(this.g_bgA=this.g_aQf().createMediaElementSource(this.g_bgv),this.g_bgA.connect(this.g_bgz))}),this.onended=null,this.g_bgv.addEventListener("ended",()=>{this.onended&&this.onended()}),this.g_bgv.addEventListener("error",e=>this.g_aSo(e))}g_er(){this.g_bgh.g_bfn(this),this.g_bgz.disconnect(),this.g_bgz=null,this.g_bgA.disconnect(),this.g_bgA=null,this.g_bgv&&!this.g_bgv.paused&&this.g_bgv.pause(),this.onended=null,this.g_bgv=null,super.g_er()}g_HF(){return this.g_bgl="loading",new Promise((e,g)=>{this.g_bgw=e,this.g_bgx=g,this.g_bgv.src=this.g_CQ})}g_aSo(e){console.error(`[Construct 3] Audio '${this.g_CQ}' error: `,e),this.g_bgx&&(this.g_bgl="failed",this.g_bgx(e),this.g_bgw=null,this.g_bgx=null)}g_CW(){const e=4<=this.g_bgv.readyState;return e&&(this.g_bgy=!0),e||this.g_bgy}g_bgq(){return this.g_CW()}g_bgB(){return this.g_bgv}g_bgC(){return this.g_bgz}g_ajp(){return this.g_bgv.duration}},"use strict",self.g_bgm=class extends g_bfu{constructor(g,_,b,t,n,e){super(g,_,b,t,n),this.g_bgk="webaudio",this.g_bgD=null,this.g_bgE=null,this.g_bgF=!!e}g_er(){this.g_bgh.g_bfn(this),this.g_bgD=null,this.g_bgE=null,super.g_er()}async g_bgG(){if(this.g_bgD)return this.g_bgD;const e=this.g_bgh.g_ba_();if("cordova"===e.g_auf()&&e.g_gf(this.g_CQ))this.g_bgD=await e.g_Cd(this.g_CQ);else{const e=await fetch(this.g_CQ);if(!e.ok)throw new Error(`error fetching audio data: ${e.status} ${e.statusText}`);this.g_bgD=await e.arrayBuffer()}}async g_bgH(){return this.g_bgE?this.g_bgE:void(this.g_bgE=await this.g_bgh.g_bfm(this.g_bgD,this.g_bgF),this.g_bgD=null)}async g_HF(){try{this.g_bgl="loading",await this.g_bgG(),await this.g_bgH(),this.g_bgl="loaded"}catch(e){this.g_bgl="failed",console.error(`[Construct 3] Failed to load audio '${this.g_CQ}': `,e)}}g_CW(){return!!(this.g_bgD||this.g_bgE)}g_bgq(){return!!this.g_bgE}g_bfR(){return this.g_bgE}g_ajp(){return this.g_bgE?this.g_bgE.duration:0}},"use strict";{function _(g){return g*e}const e=180/Math.PI;let g=0;self.g_bgI=class{constructor(_,t,b){this.g_bgh=_,this.g_xN=t,this.g_bgJ=b,this.g_bgK=g++,this.g_bgL=this.g_aQf().createGain(),this.g_bgL.connect(this.g_aQh()),this.g_bgM=null,this.g_bgN=!1,this.g_VP=!0,this.g_bgO=!1,this.g_bgP=!1,this.g_abe=!1,this.g_bgQ=1,this.g_bgR=!1,this.g_LI=1;const n=this.g_bgh.g_bfd();this.g_bgS=1===n&&!this.g_bfq()||2===n,this.g_bgT=-1,this.g_bgU=-1,this.g_bgV=!1}g_er(){this.g_bgh=null,this.g_xN=null,this.g_bgM&&(this.g_bgM.disconnect(),this.g_bgM=null),this.g_bgL.disconnect(),this.g_bgL=null}g_aQf(){return this.g_bgh.g_aQf()}g_aQh(){return this.g_bgh.g_beW(this.g_bgJ)}g_bfc(){return this.g_bgh.g_bfc()}g_aTG(){return this.g_bgS?this.g_bgh.g_Gt():performance.now()/1e3}g_bgt(){return this.g_xN.g_bgt()}g_bft(){return this.g_xN.g_bft()}g_bgu(){return this.g_xN.g_bgu()}g_bfo(){return this.g_xN}g_bfq(){return this.g_xN.g_bfq()}g_bfx(e){this.g_bgJ=e}g_bfr(){return this.g_bgJ}g_bgW(){return this.g_bgK}g_bfs(){}g_bfw(){}g_MD(){return!this.g_VP&&!this.g_bgO&&!this.g_bfs()}g_Ze(){return!this.g_VP&&!this.g_bfs()}g_bgX(){}g_ajp(e){let g=this.g_xN.g_ajp();return e&&(g/=this.g_LI||.001),g}g_No(){}g_Kp(){}g_bfJ(){}g_M_(){return this.g_bgO}g_Nn(){}g_aRj(e){this.g_bgQ=e,this.g_bgL.gain.cancelScheduledValues(0),this.g_bgU=-1,this.g_bgL.gain.value=this.g_bgY()}g_aRk(g,_,b){if(!this.g_bgZ()){g*=this.g_bfc();const t=this.g_bgL.gain;t.cancelScheduledValues(0);const n=this.g_bgh.g_beT(),e=n+_;t.setValueAtTime(t.value,n),t.linearRampToValueAtTime(g,e),this.g_bgQ=g,this.g_bgU=e,this.g_bgV=b}}g_bfK(){this.g_aRj(this.g_bgQ)}g_Lg(e){-1!==this.g_bgU&&e>=this.g_bgU&&(this.g_bgU=-1,this.g_bgV&&this.g_Kp(),this.g_bgh.g_bfF("fade-ended",this.g_bgJ,this.g_bgK))}g_bgY(){const e=this.g_bgQ*this.g_bfc();return isFinite(e)?e:0}g_aRi(e){e=!!e,this.g_bgR===e||(this.g_bgR=e,this.g_bfL())}g_bgZ(){return this.g_bgR}g_aQ$(){return this.g_bgh.g_aQ$()}g_bfL(){}g_aRh(){}g__N(){return this.g_abe}g_MA(e){this.g_LI===e||(this.g_LI=e,this.g_bfM())}g_bfM(){}g_MB(){return this.g_LI}g_aRp(){}g_atq(){}g_bfG(e){e=!!e,this.g_bgN===e||(this.g_bgN=e,this.g_bgN?(!this.g_bgM&&(this.g_bgM=this.g_aQf().createPanner(),this.g_bgM.panningModel=this.g_bgh.g_bfh(),this.g_bgM.distanceModel=this.g_bgh.g_bfi(),this.g_bgM.refDistance=this.g_bgh.g_bfj(),this.g_bgM.maxDistance=this.g_bgh.g_bfk(),this.g_bgM.rolloffFactor=this.g_bgh.g_bfl()),this.g_bgL.disconnect(),this.g_bgL.connect(this.g_bgM),this.g_bgM.connect(this.g_aQh())):(this.g_bgM.disconnect(),this.g_bgL.disconnect(),this.g_bgL.connect(this.g_aQh())))}g_bfH(t,b,n,a,e,i){this.g_bgN&&(this.g_bfN(t,b,n),this.g_bgM.coneInnerAngle=_(a),this.g_bgM.coneOuterAngle=_(e),this.g_bgM.coneOuterGain=i)}g_bfN(e,g,_){this.g_bgN&&(this.g_bgM.setPosition(e,g,0),this.g_bgM.setOrientation(Math.cos(_),Math.sin(_),0))}g_bfI(e){this.g_bgT=e}g_Et(){return this.g_bgT}g_bg_(){}g_bfb(e){const g=this.g_bgM||this.g_bgL;g.disconnect(),g.connect(e)}g_bfD(){return{aiid:this.g_bgW(),tag:this.g_bgJ,duration:this.g_ajp(),volume:this.g_bgQ,isPlaying:this.g_MD(),playbackTime:this.g_bgX(),playbackRate:this.g_MB(),uid:this.g_bgT,bufferOriginalUrl:this.g_bgt(),bufferUrl:"",bufferType:this.g_bgu(),isMusic:this.g_bfq(),isLooping:this.g__N(),isMuted:this.g_bgZ(),resumePosition:this.g_bg_(),pan:this.g_bg$()}}g_bgg(e){this.g_MA(e.playbackRate),this.g_aRi(e.isMuted)}g_bg$(){if(!this.g_bgM)return null;const e=this.g_bgM;return{pos:[e.positionX.value,e.positionY.value,e.positionZ.value],orient:[e.orientationX.value,e.orientationY.value,e.orientationZ.value],cia:e.coneInnerAngle,coa:e.coneOuterAngle,cog:e.coneOuterGain,uid:this.g_bgT}}g_bgf(e){if(!e)return void this.g_bfG(!1);this.g_bfG(!0);const g=this.g_bgM;g.setPosition(...g.pos),g.setOrientation(...g.orient),g.coneInnerAngle=g.cia,g.coneOuterAngle=g.coa,g.coneOuterGain=g.cog,this.g_bgT=g.uid}}}"use strict",self.g_bgo=class extends g_bgI{constructor(e,g,_){super(e,g,_),this.g_xN.g_bgC().connect(this.g_bgL),this.g_xN.onended=()=>this.g_bha()}g_er(){this.g_Kp(),this.g_xN.g_bgC().disconnect(),super.g_er()}g_bgB(){return this.g_xN.g_bgB()}g_bha(){this.g_VP=!0,this.g_bgT=-1,this.g_bgh.g_bfF("ended",this.g_bgJ,this.g_bgK)}g_bfs(){return this.g_bgB().ended}g_bfw(){return!!this.g_VP||this.g_bfs()}g_bgX(e){let g=this.g_bgB().currentTime;return e&&(g*=this.g_LI),this.g_abe||(g=Math.min(g,this.g_ajp())),g}g_No(e,g,_){const b=this.g_bgB();if(1!==b.playbackRate&&(b.playbackRate=1),b.loop!==e&&(b.loop=e),this.g_aRj(g),b.muted&&(b.muted=!1),b.currentTime!==_)try{b.currentTime=_}catch(e){console.warn(`[Construct 3] Exception seeking audio '${this.g_xN.g_bft()}' to position '${_}': `,e)}this.g_bgh.g_bcr(b),this.g_VP=!1,this.g_bgO=!1,this.g_abe=e,this.g_LI=1}g_Kp(){const e=this.g_bgB();e.paused||e.pause(),this.g_bgh.g_bcs(e),this.g_VP=!0,this.g_bgO=!1,this.g_bgT=-1}g_bfJ(){if(!(this.g_bgO||this.g_VP||this.g_bfs())){const e=this.g_bgB();e.paused||e.pause(),this.g_bgh.g_bcs(e),this.g_bgO=!0}}g_Nn(){!this.g_bgO||this.g_VP||this.g_bfs()||(this.g_bgh.g_bcr(this.g_bgB()),this.g_bgO=!1)}g_bfL(){this.g_bgB().muted=this.g_bgR||this.g_aQ$()}g_aRh(e){e=!!e,this.g_abe===e||(this.g_abe=e,this.g_bgB().loop=e)}g_bfM(){let e=this.g_LI;this.g_bgS&&(e*=this.g_bgh.g_Le());try{this.g_bgB().playbackRate=e}catch(g){console.warn(`[Construct 3] Unable to set playback rate '${e}':`,g)}}g_aRp(e){if(!(this.g_VP||this.g_bfs()))try{this.g_bgB().currentTime=e}catch(g){console.warn(`[Construct 3] Error seeking audio to '${e}': `,g)}}g_bg_(){return this.g_bgX()}g_atq(e){e?this.g_MD()?(this.g_bgB().pause(),this.g_bgP=!0):this.g_bgP=!1:this.g_bgP&&(this.g_bgh.g_bcr(this.g_bgB()),this.g_bgP=!1)}},"use strict",self.g_bgp=class extends g_bgI{constructor(e,g,_){super(e,g,_),this.g_bhb=null,this.g_bhc=e=>this.g_bha(e),this.g_bhd=!0,this.g_bhe=null,this.g_arQ=0,this.g_bhf=0,this.g_bhg=1}g_er(){this.g_Kp(),this.g_bhh(),this.g_bhc=null,super.g_er()}g_bhh(){this.g_bhb&&this.g_bhb.disconnect(),this.g_bhb=null,this.g_bhe=null}g_bha(e){this.g_bgO||this.g_bgP||e.target!==this.g_bhe||(this.g_bhd=!0,this.g_VP=!0,this.g_bgT=-1,this.g_bhh(),this.g_bgh.g_bfF("ended",this.g_bgJ,this.g_bgK))}g_bfs(){return!(!this.g_VP&&this.g_bhb&&this.g_bhb.loop)&&!this.g_bgO&&this.g_bhd}g_bfw(){return!this.g_bhb||this.g_VP||this.g_bfs()}g_bgX(e){let g=0;return g=this.g_bgO?this.g_bhf:this.g_aTG()-this.g_arQ,e&&(g*=this.g_LI),this.g_abe||(g=Math.min(g,this.g_ajp())),g}g_No(e,g,_,b){this.g_bhg=1,this.g_aRj(g),this.g_bhh(),this.g_bhb=this.g_aQf().createBufferSource(),this.g_bhb.buffer=this.g_xN.g_bfR(),this.g_bhb.connect(this.g_bgL),this.g_bhe=this.g_bhb,this.g_bhb.onended=this.g_bhc,this.g_bhb.loop=e,this.g_bhb.start(b,_),this.g_bhd=!1,this.g_VP=!1,this.g_bgO=!1,this.g_abe=e,this.g_LI=1,this.g_arQ=this.g_aTG()-_}g_Kp(){if(this.g_bhb)try{this.g_bhb.stop(0)}catch(e){}this.g_VP=!0,this.g_bgO=!1,this.g_bgT=-1}g_bfJ(){this.g_bgO||this.g_VP||this.g_bfs()||(this.g_bhf=this.g_bgX(!0),this.g_abe&&(this.g_bhf%=this.g_ajp()),this.g_bgO=!0,this.g_bhb.stop(0))}g_Nn(){!this.g_bgO||this.g_VP||this.g_bfs()||(this.g_bhh(),this.g_bhb=this.g_aQf().createBufferSource(),this.g_bhb.buffer=this.g_xN.g_bfR(),this.g_bhb.connect(this.g_bgL),this.g_bhe=this.g_bhb,this.g_bhb.onended=this.g_bhc,this.g_bhb.loop=this.g_abe,this.g_bfK(),this.g_bfM(),this.g_arQ=this.g_aTG()-this.g_bhf/(this.g_LI||.001),this.g_bhb.start(0,this.g_bhf),this.g_bgO=!1)}g_bgY(){return super.g_bgY()*this.g_bhg}g_bfL(){this.g_bhg=this.g_bgR||this.g_aQ$()?0:1,this.g_bfK()}g_aRh(e){e=!!e,this.g_abe===e||(this.g_abe=e,this.g_bhb&&(this.g_bhb.loop=e))}g_bfM(){let e=this.g_LI;this.g_bgS&&(e*=this.g_bgh.g_Le()),this.g_bhb&&(this.g_bhb.playbackRate.value=e)}g_aRp(e){this.g_VP||this.g_bfs()||(this.g_bgO?this.g_bhf=e:(this.g_bfJ(),this.g_bhf=e,this.g_Nn()))}g_bg_(){return this.g_bhf}g_atq(e){e?this.g_MD()?(this.g_bgP=!0,this.g_bhf=this.g_bgX(!0),this.g_abe&&(this.g_bhf%=this.g_ajp()),this.g_bhb.stop(0)):this.g_bgP=!1:this.g_bgP&&(this.g_bhh(),this.g_bhb=this.g_aQf().createBufferSource(),this.g_bhb.buffer=this.g_xN.g_bfR(),this.g_bhb.connect(this.g_bgL),this.g_bhe=this.g_bhb,this.g_bhb.onended=this.g_bhc,this.g_bhb.loop=this.g_abe,this.g_bfK(),this.g_bfM(),this.g_arQ=this.g_aTG()-this.g_bhf/(this.g_LI||.001),this.g_bhb.start(0,this.g_bhf),this.g_bgP=!1)}g_bgg(e){super.g_bgg(e),this.g_bhf=e.resumePosition}},"use strict";{function g(e){return Math.pow(10,e/20)}function _(e){return Math.max(Math.min(g(e),1),0)}function b(e){return 20*(Math.log(e)/2.302585092994046)}function t(e){return b(Math.max(Math.min(e,1),0))}function n(e,g){return 1-Math.exp(-g*e)}class e{constructor(e){this.g_bgh=e,this.g_bea=e.g_aQf(),this.g_DD=-1,this.g_bgJ="",this.g_kU="",this.g_bhi=null}g_er(){this.g_bea=null}g_and(e){this.g_DD=e}g_EV(){return this.g_DD}g_beZ(e){this.g_bgJ=e}g_bfr(){return this.g_bgJ}g_bhj(){return this.g_bea.createGain()}g_beX(){}g_be$(){}g_bhk(g,_,b,t){if(g.cancelScheduledValues(0),0===t)return void(g.value=_);const n=this.g_bea.currentTime;t+=n,0===b?g.setValueAtTime(_,t):1===b?(g.setValueAtTime(g.value,n),g.linearRampToValueAtTime(_,t)):2===b?(g.setValueAtTime(g.value,n),g.exponentialRampToValueAtTime(_,t)):void 0}g_bfD(){return{type:this.g_kU,tag:this.g_bgJ,params:this.g_bhi}}}self.g_bfO=class extends e{constructor(_,t,b,n,a,e,i){super(_),this.g_kU="filter",this.g_bhi=[t,b,n,a,e,i],this.g_bhl=this.g_bhj(),this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=i,this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-i,this.g_bho=this.g_bea.createBiquadFilter(),this.g_bho.type=t,this.g_bho.frequency.value=b,this.g_bho.detune.value=n,this.g_bho.Q.value=a,this.g_bho.gain.vlaue=e,this.g_bhl.connect(this.g_bho),this.g_bhl.connect(this.g_bhn),this.g_bho.connect(this.g_bhm)}g_er(){this.g_bhl.disconnect(),this.g_bho.disconnect(),this.g_bhm.disconnect(),this.g_bhn.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[5]=g,this.g_bhk(this.g_bhm.gain,g,_,t),this.g_bhk(this.g_bhn.gain,1-g,_,t)):1===e?(this.g_bhi[1]=g,this.g_bhk(this.g_bho.frequency,g,_,t)):2===e?(this.g_bhi[2]=g,this.g_bhk(this.g_bho.detune,g,_,t)):3===e?(this.g_bhi[3]=g,this.g_bhk(this.g_bho.Q,g,_,t)):4===e?(this.g_bhi[4]=g,this.g_bhk(this.g_bho.gain,g,_,t)):void 0}},self.g_bfP=class extends e{constructor(e,g,_,b){super(e),this.g_kU="delay",this.g_bhi=[g,_,b],this.g_bhl=this.g_bhj(),this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=b,this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-b,this.g_bhp=this.g_bhj(),this.g_bhq=this.g_bea.createDelay(g),this.g_bhq.delayTime.value=g,this.g_bhr=this.g_bhj(),this.g_bhr.gain.value=_,this.g_bhl.connect(this.g_bhp),this.g_bhl.connect(this.g_bhn),this.g_bhp.connect(this.g_bhm),this.g_bhp.connect(this.g_bhq),this.g_bhq.connect(this.g_bhr),this.g_bhr.connect(this.g_bhp)}g_er(){this.g_bhl.disconnect(),this.g_bhm.disconnect(),this.g_bhn.disconnect(),this.g_bhp.disconnect(),this.g_bhq.disconnect(),this.g_bhr.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(g,b,t,n){0===g?(b=Math.max(Math.min(b/100,1),0),this.g_bhi[2]=b,this.g_bhk(this.g_bhm.gain,b,t,n),this.g_bhk(this.g_bhn.gain,1-b,t,n)):4===g?(this.g_bhi[1]=_(b),this.g_bhk(this.g_bhr.gain,_(b),t,n)):5===g?(this.g_bhi[0]=b,this.g_bhk(this.g_bhq.delayTime,b,t,n)):void 0}},self.g_bfQ=class extends e{constructor(e,g,_,b){super(e),this.g_kU="convolution",this.g_bhi=[_,b],this.g_bhs="",this.g_bht="",this.g_bhu="",this.g_bhl=this.g_bhj(),this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=b,this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-b,this.g_bhv=this.g_bea.createConvolver(),this.g_bhv.normalize=_,this.g_bhv.buffer=g,this.g_bhl.connect(this.g_bhv),this.g_bhl.connect(this.g_bhn),this.g_bhv.connect(this.g_bhm)}g_er(){this.g_bhl.disconnect(),this.g_bhv.disconnect(),this.g_bhm.disconnect(),this.g_bhn.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[1]=g,this.g_bhk(this.g_bhm.gain,g,_,t),this.g_bhk(this.g_bhn.gain,1-g,_,t)):void 0}g_bfS(e,g,_){this.g_bhs=e,this.g_bht=g,this.g_bhu=_}g_bfD(){const e=super.g_bfD();return e.bufferOriginalUrl=this.g_bhs,e.bufferUrl="",e.bufferType=this.g_bhu,e}},self.g_bfT=class extends e{constructor(g,_,b,t,n,e){super(g),this.g_kU="flanger",this.g_bhi=[_,b,t,n,e],this.g_bhl=this.g_bhj(),this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-e/2,this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=e/2,this.g_bhw=this.g_bhj(),this.g_bhw.gain.value=n,this.g_bhq=this.g_bea.createDelay(_+b),this.g_bhq.delayTime.value=_,this.g_bhx=this.g_bea.createOscillator(),this.g_bhx.frequency.value=t,this.g_bhy=this.g_bhj(),this.g_bhy.gain.value=b,this.g_bhl.connect(this.g_bhq),this.g_bhl.connect(this.g_bhn),this.g_bhq.connect(this.g_bhm),this.g_bhq.connect(this.g_bhw),this.g_bhw.connect(this.g_bhq),this.g_bhx.connect(this.g_bhy),this.g_bhy.connect(this.g_bhq.delayTime),this.g_bhx.start(0)}g_er(){this.g_bhx.stop(0),this.g_bhl.disconnect(),this.g_bhq.disconnect(),this.g_bhx.disconnect(),this.g_bhy.disconnect(),this.g_bhn.disconnect(),this.g_bhm.disconnect(),this.g_bhw.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[4]=g,this.g_bhk(this.g_bhm.gain,g/2,_,t),this.g_bhk(this.g_bhn.gain,1-g/2,_,t)):6===e?(this.g_bhi[1]=g/1e3,this.g_bhk(this.g_bhy.gain,g/1e3,_,t)):7===e?(this.g_bhi[2]=g,this.g_bhk(this.g_bhx.frequency,g,_,t)):8===e?(this.g_bhi[3]=g/100,this.g_bhk(this.g_bhw.gain,g/100,_,t)):void 0}},self.g_bfU=class extends e{constructor(_,t,b,n,a,e,i){super(_),this.g_kU="phaser",this.g_bhi=[t,b,n,a,e,i],this.g_bhl=this.g_bhj(),this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-i/2,this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=i/2,this.g_bho=this.g_bea.createBiquadFilter(),this.g_bho.type="allpass",this.g_bho.frequency.value=t,this.g_bho.detune.value=b,this.g_bho.Q.value=n,this.g_bhx=this.g_bea.createOscillator(),this.g_bhx.frequency.value=e,this.g_bhy=this.g_bhj(),this.g_bhy.gain.value=a,this.g_bhl.connect(this.g_bho),this.g_bhl.connect(this.g_bhn),this.g_bho.connect(this.g_bhm),this.g_bhx.connect(this.g_bhy),this.g_bhy.connect(this.g_bho.frequency),this.g_bhx.start(0)}g_er(){this.g_bhx.stop(0),this.g_bhl.disconnect(),this.g_bho.disconnect(),this.g_bhx.disconnect(),this.g_bhy.disconnect(),this.g_bhn.disconnect(),this.g_bhm.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[5]=g,this.g_bhk(this.g_bhm.gain,g/2,_,t),this.g_bhk(this.g_bhn.gain,1-g/2,_,t)):1===e?(this.g_bhi[0]=g,this.g_bhk(this.g_bho.frequency,g,_,t)):2===e?(this.g_bhi[1]=g,this.g_bhk(this.g_bho.detune,g,_,t)):3===e?(this.g_bhi[2]=g,this.g_bhk(this.g_bho.Q,g,_,t)):6===e?(this.g_bhi[3]=g,this.g_bhk(this.g_bhy.gain,g,_,t)):7===e?(this.g_bhi[4]=g,this.g_bhk(this.g_bhx.frequency,g,_,t)):void 0}},self.g_bfV=class extends e{constructor(e,g){super(e),this.g_kU="gain",this.g_bhi=[g],this.g_bhz=this.g_bhj(),this.g_bhz.gain.value=g}g_er(){this.g_bhz.disconnect(),super.g_er()}g_be$(e){this.g_bhz.disconnect(),this.g_bhz.connect(e)}g_beX(){return this.g_bhz}g_bga(g,b,t,n){4===g?(this.g_bhi[0]=_(b),this.g_bhk(this.g_bhz.gain,_(b),t,n)):void 0}},self.g_bfW=class extends e{constructor(e,g,_){super(e),this.g_kU="tremolo",this.g_bhi=[g,_],this.g_bhz=this.g_bhj(),this.g_bhz.gain.value=1-_/2,this.g_bhx=this.g_bea.createOscillator(),this.g_bhx.frequency.value=g,this.g_bhy=this.g_bhj(),this.g_bhy.gain.value=_/2,this.g_bhx.connect(this.g_bhy),this.g_bhy.connect(this.g_bhz.gain),this.g_bhx.start(0)}g_er(){this.g_bhx.stop(0),this.g_bhx.disconnect(),this.g_bhy.disconnect(),this.g_bhz.disconnect(),super.g_er()}g_be$(e){this.g_bhz.disconnect(),this.g_bhz.connect(e)}g_beX(){return this.g_bhz}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[1]=g,this.g_bhk(this.g_bhz.gain.value,1-g/2,_,t),this.g_bhk(this.g_bhy.gain.value,g/2,_,t)):7===e?(this.g_bhi[0]=g,this.g_bhk(this.g_bhx.frequency,g,_,t)):void 0}},self.g_bfX=class extends e{constructor(e,g,_){super(e),this.g_kU="ringmod",this.g_bhi=[g,_],this.g_bhl=this.g_bhj(),this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=_,this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-_,this.g_bhA=this.g_bhj(),this.g_bhA.gain.value=0,this.g_bhx=this.g_bea.createOscillator(),this.g_bhx.frequency.value=g,this.g_bhx.connect(this.g_bhA.gain),this.g_bhx.start(0),this.g_bhl.connect(this.g_bhA),this.g_bhl.connect(this.g_bhn),this.g_bhA.connect(this.g_bhm)}g_er(){this.g_bhx.stop(0),this.g_bhx.disconnect(),this.g_bhA.disconnect(),this.g_bhl.disconnect(),this.g_bhm.disconnect(),this.g_bhn.disconnect(),super.g_er()}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[1]=g,this.g_bhk(this.g_bhm.gain,g,_,t),this.g_bhk(this.g_bhn.gain,1-g,_,t)):7===e?(this.g_bhi[0]=g,this.g_bhk(this.g_bhx.frequency,g,_,t)):void 0}},self.g_bfY=class extends e{constructor(g,_,b,t,n,e){super(g),this.g_kU="distortion",this.g_bhi=[_,b,t,n,e],this.g_bhl=this.g_bhj(),this.g_bhB=this.g_bhj(),this.g_bhC=this.g_bhj(),this.g_bhD(t,n),this.g_bhm=this.g_bhj(),this.g_bhm.gain.value=e,this.g_bhn=this.g_bhj(),this.g_bhn.gain.value=1-e,this.g_bhE=this.g_bea.createWaveShaper(),this.g_bhF=new Float32Array(65536),this.g_bhG(_,b),this.g_bhE.curve=this.g_bhF,this.g_bhl.connect(this.g_bhB),this.g_bhl.connect(this.g_bhn),this.g_bhB.connect(this.g_bhE),this.g_bhE.connect(this.g_bhC),this.g_bhC.connect(this.g_bhm)}g_er(){this.g_bhl.disconnect(),this.g_bhB.disconnect(),this.g_bhE.disconnect(),this.g_bhC.disconnect(),this.g_bhm.disconnect(),this.g_bhn.disconnect(),super.g_er()}g_bhD(e,g){.01>e&&(e=.01),this.g_bhB.gain.value=e,this.g_bhC.gain.value=Math.pow(1/e,.6)*g}g_bhG(e,g){for(let _,b=0;32768>b;++b)_=b/32768,_=this.g_bhH(_,e,g),this.g_bhF[32768+b]=_,this.g_bhF[32768-b-1]=-_}g_bhH(e,_,b){const t=1.05*b*_-_,a=0>e?-1:1,i=0>e?-e:e;let g=i<_?i:_+t*n(i-_,1/t);return g*=a,g}g_be$(e){this.g_bhm.disconnect(),this.g_bhm.connect(e),this.g_bhn.disconnect(),this.g_bhn.connect(e)}g_beX(){return this.g_bhl}g_bga(e,g,_,t){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bhi[4]=g,this.g_bhk(this.g_bhm.gain,g,_,t),this.g_bhk(this.g_bhn.gain,1-g,_,t)):void 0}},self.g_bfZ=class extends e{constructor(g,_,b,t,n,e){super(g),this.g_kU="compressor",this.g_bhi=[_,b,t,n,e],this.g_bhz=this.g_bea.createDynamicsCompressor(),this.g_bhz.threshold.value=_,this.g_bhz.knee.value=b,this.g_bhz.ratio.value=t,this.g_bhz.attack.value=n,this.g_bhz.release.value=e}g_er(){this.g_bhz.disconnect(),super.g_er()}g_be$(e){this.g_bhz.disconnect(),this.g_bhz.connect(e)}g_beX(){return this.g_bhz}g_bga(){}},self.g_bf_=class extends e{constructor(e,g,_){super(e),this.g_kU="analyser",this.g_bhi=[g,_],this.g_bhz=this.g_bea.createAnalyser(),this.g_bhz.fftSize=g,this.g_bhz.smoothingTimeConstant=_,this.g_bhI=new Float32Array(this.g_bhz.frequencyBinCount),this.g_bhJ=new Uint8Array(g),this.g_bhK=0,this.g_bhL=0,this.g_bgh.g_bgb(this)}g_er(){this.g_bgh.g_bgc(this),this.g_bhz.disconnect(),super.g_er()}g_Lg(){this.g_bhz.getFloatFrequencyData(this.g_bhI),this.g_bhz.getByteTimeDomainData(this.g_bhJ);const e=this.g_bhz.fftSize;this.g_bhK=0;let g=0;for(let _,b=0;b<e;++b)_=(this.g_bhJ[b]-128)/128,0>_&&(_=-_),this.g_bhK<_&&(this.g_bhK=_),g+=_*_;this.g_bhK=t(this.g_bhK),this.g_bhL=t(Math.sqrt(g/e))}g_be$(e){this.g_bhz.disconnect(),this.g_bhz.connect(e)}g_beX(){return this.g_bhz}g_bga(){}g_bfE(){return{tag:this.g_bfr(),index:this.g_EV(),peak:this.g_bhK,rms:this.g_bhL,binCount:this.g_bhz.frequencyBinCount,freqBins:this.g_bhI}}}}{const e=class extends g_bbc{constructor(e){super(e,"ppstudio_handy_DOM"),this.g_bhM=null,this.g_aTA=!1,this.g_baZ([["load",e=>this.g_bhN(e)],["send-event",e=>this.g_bhO(e)],["inject-css",e=>this.g_bhP(e)]])}g_bhN(e){if(window.ga)return"undefined"!==window.ga&&(window.ga("create",e.gaID,"auto"),window.ga("send","pageview"),this.g_bhM=window.ga,this.g_aTA=!0),{GAEnabled:this.g_aTA}}g_bhO(e){return this.g_bhM("send","event",e.category,e.activity,e.label,e.value),{}}g_bhP(e){if(e){var g=document.createElement("style");g.innerHTML=e["css-code"],document.getElementsByTagName("head")[0].appendChild(g)}}};g_bbu.g_bcp(e)}